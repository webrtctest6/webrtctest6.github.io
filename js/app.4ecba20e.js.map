{"version":3,"file":"js/app.4ecba20e.js","mappings":"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","sources":["webpack://webrtc/./src/components/room.vue","webpack://webrtc/./src/components/chat.vue","webpack://webrtc/src/components/chat.vue","webpack://webrtc/./src/components/chat.vue?4ed9","webpack://webrtc/./src/components/chat.vue?36d3","webpack://webrtc/src/components/room.vue","webpack://webrtc/./src/components/room.vue?837a","webpack://webrtc/./src/components/room.vue?2923","webpack://webrtc/./src/App.vue","webpack://webrtc/./src/components/login.vue","webpack://webrtc/src/components/login.vue","webpack://webrtc/./src/components/login.vue?61e5","webpack://webrtc/./src/components/login.vue?4dfc","webpack://webrtc/src/App.vue","webpack://webrtc/./src/App.vue?c036","webpack://webrtc/./src/App.vue?0e40","webpack://webrtc/./src/router/index.js","webpack://webrtc/./src/main.js","webpack://webrtc/webpack/bootstrap","webpack://webrtc/webpack/runtime/amd options","webpack://webrtc/webpack/runtime/chunk loaded","webpack://webrtc/webpack/runtime/compat get default export","webpack://webrtc/webpack/runtime/define property getters","webpack://webrtc/webpack/runtime/global","webpack://webrtc/webpack/runtime/hasOwnProperty shorthand","webpack://webrtc/webpack/runtime/make namespace object","webpack://webrtc/webpack/runtime/node module decorator","webpack://webrtc/webpack/runtime/jsonp chunk loading","webpack://webrtc/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"main\"}},[_c('div',{attrs:{\"id\":\"left\"}},[_c('div',{attrs:{\"id\":\"videoDiv\"}},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),_c('canvas',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"screenShotCanvas\"}}),_c('video',{attrs:{\"id\":\"remote\"}}),_c('video',{attrs:{\"id\":\"local\"}}),_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecordVideo),expression:\"showRecordVideo\"}],attrs:{\"id\":\"recordVideo\",\"autoplay\":\"true\",\"controls\":\"true\"}})]),_c('div',{attrs:{\"id\":\"videoButton\"}},[_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"disabled\":_vm.disabledList[0]},on:{\"click\":function($event){return _vm.getStream(0,'camera')}}},[_vm._v(\"获取摄像头媒体流\")]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"disabled\":_vm.disabledList[1]},on:{\"click\":function($event){return _vm.getStream(1,'desktop')}}},[_vm._v(\"获取桌面媒体流\")]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"title\":\"获取远端屏幕截图\"},on:{\"click\":_vm.screenShot}},[_vm._v(\"获取屏幕截图\")]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"title\":\"录制远端视频\"},on:{\"click\":_vm.recordVideo}},[_vm._v(\"录制视频\")]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"title\":\"停止录制远端视频\"},on:{\"click\":_vm.stopRecordVideo}},[_vm._v(\"停止录制\")]),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"title\":\"下载录制视频\"},on:{\"click\":_vm.downloadRecordVideo}},[_vm._v(\"下载录制视频\")])],1)]),_c('div',{attrs:{\"id\":\"right\"}},[_c('chat')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"chat\"}},[_c('div',{attrs:{\"id\":\"roomAndUser\"}},[_c('div',{staticClass:\"roomAndUser\"},[_vm._v(\" 房间号:\"+_vm._s(_vm.room)+\" \")]),_c('div',{staticClass:\"roomAndUser\"},[_vm._v(\" 用户:\"+_vm._s(_vm.user)+\",\"+_vm._s(_vm.otherUser)+\" \")])]),_c('div',{attrs:{\"id\":\"chatContent\"},on:{\"dragover\":_vm.fileEnter,\"drop\":_vm.fileLeave}},_vm._l((_vm.chatMsgList),function(msgObj){return _c('div',{staticClass:\"chatMsgDiv\"},[(msgObj.msgType==='get')?_c('div',{attrs:{\"id\":\"leftMsg\"}},[_c('div',{attrs:{\"id\":\"leftAvatar\"}},[_c('img',{staticStyle:{\"margin\":\"5px\"},attrs:{\"src\":msgObj.avatarURL}})]),_c('div',{attrs:{\"id\":\"leftMsgContent\"}},[_c('div',{staticStyle:{\"height\":\"20px\"}},[_c('span',[_vm._v(_vm._s(msgObj.user))])]),(msgObj.msg)?[_c('div',{attrs:{\"id\":\"leftUserMsg\"}},_vm._l((msgObj.msg),function(msg){return _c('p',[_vm._v(\" \"+_vm._s(msg)+\" \")])}),0)]:_vm._e(),(msgObj.file)?[_c('div',{attrs:{\"id\":\"leftUserFile\",\"id\":_vm.msg,\"+msgObj.file.timestamp\":\"\"}},[_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"65px\"}},[_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_vm._v(\" 文件名:\"+_vm._s(msgObj.file.name)+\" \")]),_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_vm._v(\" 文件大小:\"+_vm._s(msgObj.file.size)+\" \")]),_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_c('span',{attrs:{\"id\":'_'+msgObj.file.timestamp}},[_vm._v(\"上传进度:0\")])])])])]:_vm._e(),(msgObj.img)?[_c('div',{attrs:{\"id\":\"leftUserImg\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"id\":'_'+msgObj.img.timestamp,\"src\":\"\",\"alt\":\"\"}})])]:_vm._e()],2)]):_vm._e(),(msgObj.msgType==='send')?_c('div',{attrs:{\"id\":\"rightMsg\"}},[_c('div',{attrs:{\"id\":\"rightAvatar\"}},[_c('img',{staticStyle:{\"margin\":\"5px\"},attrs:{\"src\":msgObj.avatarURL}})]),_c('div',{attrs:{\"id\":\"rightMsgContent\"}},[_c('div',{staticStyle:{\"height\":\"20px\",\"float\":\"right\"},attrs:{\"id\":\"rightChatUserName\"}},[_c('span',[_vm._v(_vm._s(msgObj.user))])]),(msgObj.msg)?[_c('div',{attrs:{\"id\":\"rightUserMsg\"}},_vm._l((msgObj.msg),function(msg){return _c('p',[_vm._v(\" \"+_vm._s(msg)+\" \")])}),0)]:_vm._e(),(msgObj.file)?[_c('div',{attrs:{\"id\":\"rightUserFile\"}},[_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"65px\"}},[_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_vm._v(\" 文件名:\"+_vm._s(msgObj.file.name)+\" \")]),_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_vm._v(\" 文件大小:\"+_vm._s(msgObj.file.size)+\" \")]),_c('div',{staticStyle:{\"width\":\"160px\",\"height\":\"20px\",\"margin\":\"2px\"}},[_c('span',{attrs:{\"id\":'_'+msgObj.file.timestamp}},[_vm._v(\"上传进度:0\")])])])])]:_vm._e(),(msgObj.img)?[_c('div',{attrs:{\"id\":\"rightUserImg\"}},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\"},attrs:{\"id\":'_'+msgObj.img.timestamp,\"src\":\"\",\"alt\":\"\"}})])]:_vm._e()],2)]):_vm._e()])}),0),_c('div',{attrs:{\"id\":\"send\"}},[(_vm.showEmoji)?_c('div',{attrs:{\"id\":\"emojiBox\"},on:{\"click\":_vm.clickEmoji}},_vm._l((_vm.emojiList),function(emoji){return _c('div',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\"}},[_c('div',{staticStyle:{\"width\":\"24px\",\"height\":\"24px\",\"margin\":\"3px\"},domProps:{\"innerHTML\":_vm._s(emoji)}})])}),0):_vm._e(),_c('div',{attrs:{\"id\":\"sendButton\"}},[_c('ul',[_c('li',{staticClass:\"iconBox\",attrs:{\"title\":\"创建头像\"},on:{\"click\":_vm.createAvatar}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1701659913144\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"7056\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 896a424.533333 424.533333 0 0 1-279.466667-104.96 298.666667 298.666667 0 0 1 558.933334 0A424.533333 424.533333 0 0 1 512 938.666667z m-149.333333-490.666667a149.333333 149.333333 0 1 1 149.333333 149.333333 149.333333 149.333333 0 0 1-149.333333-149.333333z m461.866666 353.493333a341.333333 341.333333 0 0 0-213.333333-189.226666 192 192 0 1 0-197.973333 0 341.333333 341.333333 0 0 0-213.333334 189.226666 426.666667 426.666667 0 1 1 624.64 0z\",\"fill\":\"#666666\",\"p-id\":\"7057\"}})])]),_c('li',{staticClass:\"iconBox\",attrs:{\"title\":\"表情包\"},on:{\"click\":_vm.emoji}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1701658883145\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"26849\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M512 512m-393.846154 0a393.846154 393.846154 0 1 0 787.692308 0 393.846154 393.846154 0 1 0-787.692308 0Z\",\"fill\":\"#BFBFBF\",\"p-id\":\"26850\"}}),_c('path',{attrs:{\"d\":\"M469.464615 469.464615m-351.310769 0a351.310769 351.310769 0 1 0 702.621539 0 351.310769 351.310769 0 1 0-702.621539 0Z\",\"fill\":\"#FFFFFF\",\"p-id\":\"26851\"}}),_c('path',{attrs:{\"d\":\"M354.461538 615.975385a100.036923 78.769231 90 1 0 157.538462 0 100.036923 78.769231 90 1 0-157.538462 0Z\",\"fill\":\"#808080\",\"p-id\":\"26852\"}}),_c('path',{attrs:{\"d\":\"M352.098462 335.556923m-59.076924 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z\",\"fill\":\"#808080\",\"p-id\":\"26853\"}}),_c('path',{attrs:{\"d\":\"M623.852308 372.578462m-59.076923 0a59.076923 59.076923 0 1 0 118.153846 0 59.076923 59.076923 0 1 0-118.153846 0Z\",\"fill\":\"#808080\",\"p-id\":\"26854\"}}),_c('path',{attrs:{\"d\":\"M512 937.353846c-234.732308 0-425.353846-190.621538-425.353846-425.353846s190.621538-425.353846 425.353846-425.353846 425.353846 190.621538 425.353846 425.353846-190.621538 425.353846-425.353846 425.353846z m0-787.692308c-200.073846 0-362.338462 162.264615-362.338462 362.338462s162.264615 362.338462 362.338462 362.338462 362.338462-162.264615 362.338462-362.338462-162.264615-362.338462-362.338462-362.338462z\",\"fill\":\"#7F7F7F\",\"p-id\":\"26855\"}})])]),_c('li',{staticClass:\"iconBox\",attrs:{\"title\":\"发送图片\"},on:{\"click\":_vm.sendImage}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1701658645047\",\"viewBox\":\"0 0 1027 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"6148\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M920.122141 75.836199l-820.906465 0c-50.327222 0-91.27175 40.944528-91.27175 91.27175l0 692.00877c0 50.328245 40.944528 91.27175 91.27175 91.27175l820.906465 0c50.327222 0 91.270726-40.944528 91.270726-91.27175L1011.392868 167.107949C1011.393891 116.780727 970.449363 75.836199 920.122141 75.836199zM99.215676 142.351102l820.906465 0c13.650905 0 24.755824 11.105942 24.755824 24.756847l0 492.720911c-46.914496-72.336492-110.60712-166.954453-145.379065-203.557092-29.553083-31.108508-59.966767-37.638225-80.276325-37.638225-0.00307 0 0.002047 0-0.001023 0-44.896536 0-77.273944 30.226418-83.743286 36.759205-13.08297 12.219299-179.912579 168.045297-200.162786 187.432857-10.619872-11.965519-49.051159-54.918797-86.132706-92.001367-23.834848-23.835871-54.854329-31.725562-87.346347-22.215978-21.236674 6.216585-35.982516 17.84339-38.721907 20.111037l-0.25992 0.214894L74.458829 676.898631l0-509.790682C74.458829 153.457044 85.564771 142.351102 99.215676 142.351102zM920.122141 883.873566l-820.906465 0c-13.650905 0-24.756847-11.106965-24.756847-24.756847l0-92.362594L265.490653 599.998193c2.296299-1.743714 8.968256-6.03546 16.266475-7.891737 8.400321-2.134617 14.120602-0.523933 20.392446 5.749958 39.07904 39.080064 81.20651 86.614683 85.658915 91.651396 4.513804 5.417383 19.348674 20.85805 42.86732 22.494317 12.373819 0.86367 31.051203-1.956561 49.753147-20.276812 9.15859-8.972349 148.204413-138.926096 201.00906-188.242292l0.531096-0.437975 0.800225-0.873903c4.881171-4.882194 20.48352-17.021675 36.46347-17.021675 0.099261 0 0.199545 0 0.298805 0.001023 10.633175 0.101307 21.017686 5.640464 31.746028 16.933671 39.418778 41.494043 146.583496 195.563024 193.60237 267.566942l0 89.465614C944.878988 872.767624 933.773046 883.873566 920.122141 883.873566z\",\"fill\":\"#4C4C4C\",\"p-id\":\"6149\"}}),_c('path',{attrs:{\"d\":\"M275.135314 442.432575c52.972469 0 96.067986-43.096541 96.067986-96.067986s-43.095517-96.067986-96.067986-96.067986-96.067986 43.095517-96.067986 96.067986S222.162846 442.432575 275.135314 442.432575zM275.135314 316.810482c16.295128 0 29.553083 13.257955 29.553083 29.553083 0 16.296151-13.257955 29.553083-29.553083 29.553083s-29.553083-13.257955-29.553083-29.553083C245.582231 330.068438 258.840186 316.810482 275.135314 316.810482z\",\"fill\":\"#4C4C4C\",\"p-id\":\"6150\"}})])]),_c('li',{staticClass:\"iconBox\",attrs:{\"title\":\"发送文件\"},on:{\"click\":_vm.sendFile}},[_c('svg',{staticClass:\"icon\",attrs:{\"t\":\"1701659527057\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"31921\",\"width\":\"200\",\"height\":\"200\"}},[_c('path',{attrs:{\"d\":\"M357.285 86c41.5 0 77.11 25.2 92.347 61.126V143.5h260.02c81.791 0 148.269 65.52 149.59 146.87l0.02 2.47 0.002 6.747C898.87 319.726 926 360.847 926 408.301V803.6c0 73.675-59.759 133.4-133.475 133.4h-619.05C99.76 937 40 877.275 40 803.6V224c0-76.215 61.82-138 138.078-138h179.207z m0.759 59.8H178.078c-42.781 0-77.543 34.315-78.234 76.907l-0.01 1.293v579.6c0 40.242 32.314 72.94 72.424 73.59l1.217 0.01h619.05c40.264 0 72.981-32.296 73.631-72.383l0.01-1.217V408.3c0-33.953-27.265-61.542-61.107-62.09l-1.028-0.01H554.196c-85.562 0-155.085-68.628-156.467-153.813l-0.021-2.586v-3.6c0-22.06-17.69-39.99-39.664-40.401z m155.332 301.584c13.827-13.623 36.03-13.623 49.858 0l141.784 139.693 0.387 0.388c6.526 6.633 9.828 15.263 9.892 23.917v0.845c-0.065 8.824-3.497 17.623-10.28 24.306L563.235 776.225c-13.828 13.624-36.03 13.624-49.858 0a34.49 34.49 0 0 1-0.363-0.362c-13.364-13.565-13.202-35.396 0.363-48.76l89.258-87.941h-320.23c-16.523 0-29.917-13.395-29.917-29.917 0-16.523 13.394-29.917 29.917-29.917h315.033l-84.061-82.821-0.403-0.403c-13.164-13.398-13.19-34.928 0.04-48.357 0.12-0.122 0.241-0.243 0.363-0.363zM709.653 203.3l-251.175 0.001c6.57 46.96 46.921 83.1 95.718 83.1H799.2c-3.275-45.952-41.319-82.333-88.062-83.089l-1.485-0.012z\",\"fill\":\"#333333\",\"p-id\":\"31922\"}})])])])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chatMsg),expression:\"chatMsg\"}],attrs:{\"id\":\"sendTextarea\",\"spellcheck\":\"false\"},domProps:{\"value\":(_vm.chatMsg)},on:{\"keyup\":_vm.sendMsgEnter,\"input\":function($event){if($event.target.composing)return;_vm.chatMsg=$event.target.value}}}),_c('el-button',{attrs:{\"type\":\"success\",\"id\":\"sendMsg\"},on:{\"click\":_vm.sendMsg}},[_vm._v(\"发送\")])],1),_c('canvas',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"avatar\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"chat\" >\r\n        <div id=\"roomAndUser\">\r\n            <div class=\"roomAndUser\">\r\n                房间号:{{ room }}\r\n            </div>\r\n            <div class=\"roomAndUser\">\r\n                用户:{{user}},{{otherUser}}  \r\n            </div>\r\n        </div>\r\n        <div id=\"chatContent\" @dragover=\"fileEnter\" @drop=\"fileLeave\">\r\n            <div v-for=\"msgObj in chatMsgList\" class=\"chatMsgDiv\">\r\n                <div v-if=\"msgObj.msgType==='get'\" id=\"leftMsg\">   \r\n                    <div id=\"leftAvatar\">\r\n                        <img :src='msgObj.avatarURL' style=\"margin: 5px;\" >    \r\n                    </div>\r\n                    <div id=\"leftMsgContent\">\r\n                        <div style=\"height: 20px;\">\r\n                           <span>{{ msgObj.user }}</span> \r\n                        </div>\r\n                        <template v-if=\"msgObj.msg\">\r\n                            <div id=\"leftUserMsg\">\r\n                                    <p v-for=\"msg in msgObj.msg\">\r\n                                        {{ msg }}\r\n                                    </p>\r\n                            </div>\r\n                        </template>\r\n                        <template v-if=\"msgObj.file\">\r\n                            <div id=\"leftUserFile\" :id='msg'+msgObj.file.timestamp>\r\n                                <div style=\"width: 160px;height: 65px;\">\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\" >\r\n                                    文件名:{{msgObj.file.name}}\r\n                                    </div>\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\">\r\n                                    文件大小:{{msgObj.file.size}}    \r\n                                    </div>\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\">\r\n                                        <span :id=\"'_'+msgObj.file.timestamp\">上传进度:0</span> \r\n                                    </div>  \r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n                        <template v-if=\"msgObj.img\">\r\n                            <div id=\"leftUserImg\">\r\n                              <img :id=\"'_'+msgObj.img.timestamp\" src=\"\" alt=\"\" style=\"width: 100px;height: 100px;\">  \r\n                            </div>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n                <div v-if=\"msgObj.msgType==='send'\" id=\"rightMsg\">\r\n                    <div id=\"rightAvatar\">\r\n                        <img :src='msgObj.avatarURL' style=\"margin: 5px;\" >    \r\n                    </div>\r\n                    <div id=\"rightMsgContent\">\r\n                        <div id=\"rightChatUserName\" style=\"height: 20px;float: right;\">\r\n                            <span>{{ msgObj.user }}</span>\r\n                        </div>\r\n                        <template v-if=\"msgObj.msg\">\r\n                            <div id=\"rightUserMsg\">  \r\n                                <p v-for=\"msg in msgObj.msg\">\r\n                                    {{ msg }}\r\n                                </p>\r\n                            </div>\r\n                        </template>\r\n                        <template v-if=\"msgObj.file\">\r\n                            <div id=\"rightUserFile\">\r\n                                <div style=\"width: 160px;height: 65px;\">\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\" >\r\n                                    文件名:{{msgObj.file.name}}\r\n                                    </div>\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\">\r\n                                    文件大小:{{msgObj.file.size}}    \r\n                                    </div>\r\n                                    <div style=\"width: 160px;height: 20px;margin: 2px;\">\r\n                                        <span :id=\"'_'+msgObj.file.timestamp\">上传进度:0</span> \r\n                                    </div>  \r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n                        <template v-if=\"msgObj.img\">\r\n                            <div id=\"rightUserImg\">\r\n                              <img :id=\"'_'+msgObj.img.timestamp\" src=\"\" alt=\"\" style=\"width: 100px;height: 100px;\">  \r\n                            </div>\r\n                        </template>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"send\">\r\n            <div v-if=\"showEmoji\" id=\"emojiBox\" @click=\"clickEmoji\">\r\n                <div v-for=\"emoji in emojiList\" style=\"width: 30px;height: 30px;\">\r\n                    <div v-html=\"emoji\" style=\"width: 24px;height: 24px;margin: 3px;\"></div>\r\n                </div>\r\n            </div>\r\n            <div id=\"sendButton\">\r\n                <ul>                  \r\n                    <li class=\"iconBox\" title=\"创建头像\" @click=\"createAvatar\">\r\n                        <svg t=\"1701659913144\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"7056\" width=\"200\" height=\"200\"><path d=\"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 896a424.533333 424.533333 0 0 1-279.466667-104.96 298.666667 298.666667 0 0 1 558.933334 0A424.533333 424.533333 0 0 1 512 938.666667z m-149.333333-490.666667a149.333333 149.333333 0 1 1 149.333333 149.333333 149.333333 149.333333 0 0 1-149.333333-149.333333z m461.866666 353.493333a341.333333 341.333333 0 0 0-213.333333-189.226666 192 192 0 1 0-197.973333 0 341.333333 341.333333 0 0 0-213.333334 189.226666 426.666667 426.666667 0 1 1 624.64 0z\" fill=\"#666666\" p-id=\"7057\"></path></svg>\r\n                    </li>\r\n                    <li class=\"iconBox\" title=\"表情包\" @click=\"emoji\">\r\n                        <svg t=\"1701658883145\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"26849\" width=\"200\" height=\"200\"><path d=\"M512 512m-393.846154 0a393.846154 393.846154 0 1 0 787.692308 0 393.846154 393.846154 0 1 0-787.692308 0Z\" fill=\"#BFBFBF\" p-id=\"26850\"></path><path d=\"M469.464615 469.464615m-351.310769 0a351.310769 351.310769 0 1 0 702.621539 0 351.310769 351.310769 0 1 0-702.621539 0Z\" fill=\"#FFFFFF\" p-id=\"26851\"></path><path d=\"M354.461538 615.975385a100.036923 78.769231 90 1 0 157.538462 0 100.036923 78.769231 90 1 0-157.538462 0Z\" fill=\"#808080\" p-id=\"26852\"></path><path d=\"M352.098462 335.556923m-59.076924 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z\" fill=\"#808080\" p-id=\"26853\"></path><path d=\"M623.852308 372.578462m-59.076923 0a59.076923 59.076923 0 1 0 118.153846 0 59.076923 59.076923 0 1 0-118.153846 0Z\" fill=\"#808080\" p-id=\"26854\"></path><path d=\"M512 937.353846c-234.732308 0-425.353846-190.621538-425.353846-425.353846s190.621538-425.353846 425.353846-425.353846 425.353846 190.621538 425.353846 425.353846-190.621538 425.353846-425.353846 425.353846z m0-787.692308c-200.073846 0-362.338462 162.264615-362.338462 362.338462s162.264615 362.338462 362.338462 362.338462 362.338462-162.264615 362.338462-362.338462-162.264615-362.338462-362.338462-362.338462z\" fill=\"#7F7F7F\" p-id=\"26855\"></path></svg>\r\n                    </li>\r\n                    <li class=\"iconBox\" title=\"发送图片\" @click=\"sendImage\">\r\n                        <svg t=\"1701658645047\" class=\"icon\" viewBox=\"0 0 1027 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"6148\" width=\"200\" height=\"200\"><path d=\"M920.122141 75.836199l-820.906465 0c-50.327222 0-91.27175 40.944528-91.27175 91.27175l0 692.00877c0 50.328245 40.944528 91.27175 91.27175 91.27175l820.906465 0c50.327222 0 91.270726-40.944528 91.270726-91.27175L1011.392868 167.107949C1011.393891 116.780727 970.449363 75.836199 920.122141 75.836199zM99.215676 142.351102l820.906465 0c13.650905 0 24.755824 11.105942 24.755824 24.756847l0 492.720911c-46.914496-72.336492-110.60712-166.954453-145.379065-203.557092-29.553083-31.108508-59.966767-37.638225-80.276325-37.638225-0.00307 0 0.002047 0-0.001023 0-44.896536 0-77.273944 30.226418-83.743286 36.759205-13.08297 12.219299-179.912579 168.045297-200.162786 187.432857-10.619872-11.965519-49.051159-54.918797-86.132706-92.001367-23.834848-23.835871-54.854329-31.725562-87.346347-22.215978-21.236674 6.216585-35.982516 17.84339-38.721907 20.111037l-0.25992 0.214894L74.458829 676.898631l0-509.790682C74.458829 153.457044 85.564771 142.351102 99.215676 142.351102zM920.122141 883.873566l-820.906465 0c-13.650905 0-24.756847-11.106965-24.756847-24.756847l0-92.362594L265.490653 599.998193c2.296299-1.743714 8.968256-6.03546 16.266475-7.891737 8.400321-2.134617 14.120602-0.523933 20.392446 5.749958 39.07904 39.080064 81.20651 86.614683 85.658915 91.651396 4.513804 5.417383 19.348674 20.85805 42.86732 22.494317 12.373819 0.86367 31.051203-1.956561 49.753147-20.276812 9.15859-8.972349 148.204413-138.926096 201.00906-188.242292l0.531096-0.437975 0.800225-0.873903c4.881171-4.882194 20.48352-17.021675 36.46347-17.021675 0.099261 0 0.199545 0 0.298805 0.001023 10.633175 0.101307 21.017686 5.640464 31.746028 16.933671 39.418778 41.494043 146.583496 195.563024 193.60237 267.566942l0 89.465614C944.878988 872.767624 933.773046 883.873566 920.122141 883.873566z\" fill=\"#4C4C4C\" p-id=\"6149\"></path><path d=\"M275.135314 442.432575c52.972469 0 96.067986-43.096541 96.067986-96.067986s-43.095517-96.067986-96.067986-96.067986-96.067986 43.095517-96.067986 96.067986S222.162846 442.432575 275.135314 442.432575zM275.135314 316.810482c16.295128 0 29.553083 13.257955 29.553083 29.553083 0 16.296151-13.257955 29.553083-29.553083 29.553083s-29.553083-13.257955-29.553083-29.553083C245.582231 330.068438 258.840186 316.810482 275.135314 316.810482z\" fill=\"#4C4C4C\" p-id=\"6150\"></path></svg>\r\n                    </li>\r\n                    <li class=\"iconBox\" title=\"发送文件\" @click=\"sendFile\">\r\n                        <svg t=\"1701659527057\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"31921\" width=\"200\" height=\"200\"><path d=\"M357.285 86c41.5 0 77.11 25.2 92.347 61.126V143.5h260.02c81.791 0 148.269 65.52 149.59 146.87l0.02 2.47 0.002 6.747C898.87 319.726 926 360.847 926 408.301V803.6c0 73.675-59.759 133.4-133.475 133.4h-619.05C99.76 937 40 877.275 40 803.6V224c0-76.215 61.82-138 138.078-138h179.207z m0.759 59.8H178.078c-42.781 0-77.543 34.315-78.234 76.907l-0.01 1.293v579.6c0 40.242 32.314 72.94 72.424 73.59l1.217 0.01h619.05c40.264 0 72.981-32.296 73.631-72.383l0.01-1.217V408.3c0-33.953-27.265-61.542-61.107-62.09l-1.028-0.01H554.196c-85.562 0-155.085-68.628-156.467-153.813l-0.021-2.586v-3.6c0-22.06-17.69-39.99-39.664-40.401z m155.332 301.584c13.827-13.623 36.03-13.623 49.858 0l141.784 139.693 0.387 0.388c6.526 6.633 9.828 15.263 9.892 23.917v0.845c-0.065 8.824-3.497 17.623-10.28 24.306L563.235 776.225c-13.828 13.624-36.03 13.624-49.858 0a34.49 34.49 0 0 1-0.363-0.362c-13.364-13.565-13.202-35.396 0.363-48.76l89.258-87.941h-320.23c-16.523 0-29.917-13.395-29.917-29.917 0-16.523 13.394-29.917 29.917-29.917h315.033l-84.061-82.821-0.403-0.403c-13.164-13.398-13.19-34.928 0.04-48.357 0.12-0.122 0.241-0.243 0.363-0.363zM709.653 203.3l-251.175 0.001c6.57 46.96 46.921 83.1 95.718 83.1H799.2c-3.275-45.952-41.319-82.333-88.062-83.089l-1.485-0.012z\" fill=\"#333333\" p-id=\"31922\"></path></svg>\r\n                    </li>\r\n                    <!-- <li class=\"iconBox\" title=\"你猜我画\" @click=\"\">\r\n                        <svg t=\"1701661060768\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"13285\" width=\"200\" height=\"200\"><path d=\"M550.912 961.536h-3.072c-72.704-1.024-125.952-52.224-145.408-138.24C368.64 671.744 307.2 677.888 222.208 687.104c-49.152 5.12-104.448 11.264-146.432-26.624-33.792-30.72-49.152-81.92-49.152-160.768C26.624 258.048 223.232 61.44 464.896 61.44c193.536 0 366.592 130.048 420.864 316.416 6.144 21.504-6.144 44.032-27.648 51.2-21.504 6.144-44.032-6.144-51.2-27.648-44.032-151.552-184.32-257.024-342.016-257.024-196.608 0-356.352 159.744-356.352 356.352 0 69.632 14.336 93.184 22.528 100.352 14.336 13.312 47.104 9.216 82.944 6.144 87.04-9.216 219.136-23.552 269.312 199.68 16.384 73.728 54.272 73.728 66.56 74.752h1.024C634.88 879.616 768 754.688 808.96 595.968c6.144-21.504 27.648-34.816 50.176-29.696 21.504 6.144 34.816 27.648 29.696 50.176-49.152 185.344-205.824 345.088-337.92 345.088z\" fill=\"#333C4F\" p-id=\"13286\"></path><path d=\"M240.64 458.752m-69.632 0a69.632 69.632 0 1 0 139.264 0 69.632 69.632 0 1 0-139.264 0Z\" fill=\"#333C4F\" p-id=\"13287\"></path><path d=\"M442.368 296.96m-52.224 0a52.224 52.224 0 1 0 104.448 0 52.224 52.224 0 1 0-104.448 0Z\" fill=\"#333C4F\" p-id=\"13288\"></path><path d=\"M658.432 366.592m-43.008 0a43.008 43.008 0 1 0 86.016 0 43.008 43.008 0 1 0-86.016 0Z\" fill=\"#333C4F\" p-id=\"13289\"></path><path d=\"M518.144 654.336c-17.408 0-32.768-10.24-38.912-27.648-7.168-21.504 4.096-45.056 25.6-52.224L946.176 419.84c21.504-7.168 45.056 4.096 52.224 25.6 7.168 21.504-4.096 45.056-25.6 52.224L531.456 652.288c-5.12 1.024-9.216 2.048-13.312 2.048z\" fill=\"#333C4F\" p-id=\"13290\"></path></svg>\r\n                    </li> -->\r\n                </ul>\r\n                \r\n            </div>\r\n                <textarea v-model=\"chatMsg\" id=\"sendTextarea\" spellcheck=\"false\" @keyup=\"sendMsgEnter\">\r\n                    \r\n                </textarea>\r\n                <el-button type=\"success\" id=\"sendMsg\" @click=\"sendMsg\">发送</el-button>    \r\n        </div>\r\n        <canvas id=\"avatar\" style=\"display: none;\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client'\r\nlet sendFileMap = new Map()\r\nlet getFileMap = new Map()\r\nlet getImageMap = new Map()\r\nclass Message{\r\n    constructor({msg,user,avatarURL,file,msgType,img}){\r\n        this.msgType = msgType //消息是发送者还是接收者\r\n        this.msg = msg \r\n        this.user = user\r\n        this.avatarURL = avatarURL\r\n        this.file = file||''\r\n        this.img = img||''\r\n    } \r\n}\r\nexport default{\r\n    data(){\r\n        return{\r\n            socket:'',\r\n            chatMsg:'',\r\n            chatMsgList:[],\r\n            room:'',\r\n            user:'',\r\n            otherUser:'',\r\n            avatarURL:'',\r\n            emojiList:['&#x1F600','&#x1F604','&#x2764','&#x1F602','&#x1F44F','&#x1F3A7','&#x1F60D','&#x1F4AA','&#x1F4B0','&#x1F618'],\r\n            showEmoji:false,\r\n        }\r\n    },\r\n    methods:{\r\n        /*\r\n            与聊天相关的按钮的点击事件\r\n        */\r\n        fileEnter(e){\r\n            e.preventDefault()\r\n            e.target.style.backgroundColor = 'rgba(100,100,100,0.2)'\r\n        },//文件拖动到到聊天区时触发的事件\r\n        fileLeave(e){\r\n            e.preventDefault()\r\n            e.target.style.backgroundColor = '#f5f5f5'\r\n            let file = e.dataTransfer.files[0]\r\n            this.fileSlice(file)\r\n        },//文件拖动到聊天区后触发的事件\r\n        async createAvatar(){\r\n            let file =await this.getFile()\r\n            let read = new FileReader()\r\n            read.readAsDataURL(file)\r\n            read.onload=((e)=>{\r\n                let url = e.target.result\r\n                let img = new Image()\r\n                img.src = url\r\n                img.onload=()=>{\r\n                    let canvas = document.querySelector('#avatar')\r\n                    let ctx = canvas.getContext('2d')\r\n                    canvas.width= 40\r\n                    canvas.height= 40\r\n                    ctx.drawImage(img,0,0,canvas.width,canvas.height)\r\n                    this.avatarURL = canvas.toDataURL()\r\n                    localStorage.setItem('avatar',this.avatarURL)\r\n                    ctx.clearRect(0,0,canvas.width,canvas.height)\r\n                }\r\n            })\r\n        },\r\n        emoji(){\r\n            this.showEmoji = this.showEmoji?false:true\r\n        },\r\n        clickEmoji(e){\r\n            this.chatMsg += e.target.innerHTML\r\n        },\r\n        async sendImage(){\r\n            let file =await this.getFile({\r\n                type:[{\r\n                    accept:{\r\n                        'image/*': ['.jpg', '.jpeg', '.png', '.gif', '.bmp']\r\n                    }\r\n                }]\r\n            })\r\n            this.imageSlice(file)\r\n        },\r\n        async sendFile(){\r\n            let file =await this.getFile()\r\n            this.fileSlice(file)\r\n        },\r\n        imageSlice(file){\r\n            let timestamp = Date.now()\r\n            let fileName = file.name\r\n            let type = file.type\r\n            let msg = new Message({\r\n                msgType:'send',\r\n                user:this.user,\r\n                avatarURL:this.avatarURL,\r\n                img:{\r\n                    name:fileName,\r\n                    type,\r\n                    timestamp\r\n                }\r\n            })\r\n            this.chatMsgList.push(msg)\r\n            let readURL = new FileReader()\r\n            let readArrayBuffer = new FileReader()\r\n            readURL.readAsDataURL(file)\r\n            readArrayBuffer.readAsArrayBuffer(file)\r\n            readURL.onload=(e)=>{\r\n                let img = document.querySelector(`#_${timestamp}`)\r\n                img.src = e.target.result\r\n            }\r\n            readArrayBuffer.onload=(e)=>{\r\n                let arrayBuffer = e.target.result\r\n                let type = file.type\r\n                let name = file.name\r\n                let sliceSize = 500*1024 //文件切片大小\r\n                let total = Math.ceil(file.size/sliceSize) //切片众个数\r\n                let size = file.size\r\n                let fileIndex = 0\r\n                let index = 0\r\n                this.socket.emit('uploadImageStart',timestamp,total,file.size,this.room,msg)\r\n                while(fileIndex<size){\r\n                    let arrayBufferUpload = arrayBuffer.slice(fileIndex,fileIndex+sliceSize)\r\n                    this.socket.emit('uploadImage',arrayBufferUpload,index,this.room,total,timestamp,type,name,size)\r\n                    fileIndex+=sliceSize\r\n                    index++\r\n                }   \r\n            }\r\n        },\r\n        fileSlice(file){\r\n            let size\r\n            if(file.size<1024){\r\n                size = file.size+'B'\r\n            }else if(file.size<1024*1024){\r\n                size = (file.size/1024).toFixed(2)+'KB'\r\n            }else if(file.size<1024*1024*1024){\r\n                size = (file.size/(1024*1024)).toFixed(2)+'MB'\r\n            }else{\r\n                size = (file.size/(1024*1024*1024)).toFixed(2)+'GB'\r\n            }\r\n            let timestamp = Date.now()\r\n            let type = file.type\r\n            let fileName = file.name.length>6?file.name.slice(0,6)+'...':file.name\r\n            let read = new FileReader()\r\n            let msg = new Message({\r\n                msgType:'send',\r\n                msg:false,\r\n                user:this.user,\r\n                avatarURL:this.avatarURL,\r\n                file:{\r\n                    name:fileName,\r\n                    type,\r\n                    size,\r\n                    timestamp\r\n                }\r\n            })\r\n            let sliceSize = 500*1024 //文件切片大小\r\n            let total = Math.ceil(file.size/sliceSize) //切片众个数\r\n            this.socket.emit('uploadFileStart',timestamp,total,file.size,this.room,msg)\r\n            this.chatMsgList.push(msg)\r\n            read.readAsArrayBuffer(file)\r\n            read.onload=(e)=>{\r\n                let arrayBuffer = e.target.result\r\n                let fileAllSize = arrayBuffer.byteLength\r\n                let fileSize = 0 //已上传文件的大小\r\n                let index = 0\r\n                while(fileSize<fileAllSize){\r\n                    //每次分割500kb大小的内容然后上传,附上文件名以及每次发送文件片段的位置\r\n                    let arrayBufferUpload = arrayBuffer.slice(fileSize,fileSize+sliceSize) \r\n                    this.socket.emit('uploadFile',arrayBufferUpload,index,this.room,total,timestamp,file.type,fileName,file.size)\r\n                    fileSize+=sliceSize\r\n                    index++\r\n                }\r\n            }\r\n        }, //大文件切片上传\r\n        /*\r\n            与发送文本相关的函数\r\n        */\r\n        makeText(text){\r\n            let canvas = document.querySelector('#avatar')\r\n            let ctx = canvas.getContext('2d')\r\n            ctx.font = '16px Arial'\r\n            let textList = text.split('\\n')\r\n            let list =[]\r\n            let textWidth=''\r\n            let width = 0\r\n            for(let i=0;i<textList.length;i++){\r\n                for(let j=0;j<textList[i].length;j++){\r\n                    textWidth+=textList[i][j]\r\n                    width = ctx.measureText(textWidth).width\r\n                    if(width>200){\r\n                        textWidth.slice(textWidth.length-1)\r\n                        list.push(textWidth)\r\n                        textWidth = textList[i][j]\r\n                    }          \r\n                }\r\n                list.push(textWidth)\r\n                textWidth=''\r\n            }\r\n            return list\r\n        },//将文本分行处理。\r\n        sendMsgEnter(e){\r\n            if(e.keyCode===13) this.sendMsg()\r\n        },\r\n        sendMsg(){\r\n            let text = this.makeText(this.chatMsg)\r\n            this.chatMsg = text\r\n            let msg = new Message({\r\n                msgType:'send',\r\n                msg:this.chatMsg,\r\n                user:this.user,\r\n                avatarURL:this.avatarURL\r\n            })\r\n            this.chatMsgList.push(msg)\r\n            this.socket.emit('sendChatMsg',msg,this.room)\r\n            this.chatMsg=''\r\n        },\r\n        async getFile(option){\r\n            try{\r\n                let filelist = await showOpenFilePicker(option) //会返回一个数组，储存着用户上传的文件\r\n                let file = await filelist[0].getFile() //会返回一个file对象。\r\n                return file\r\n            }catch{\r\n\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.socket = io('localhost:3000')\r\n    },\r\n    mounted(){\r\n        this.user = sessionStorage.getItem('user')\r\n        this.room = sessionStorage.getItem('room')\r\n        this.avatarURL = localStorage.getItem('avatar')\r\n        this.socket.on('getChat',(msg)=>{\r\n            this.chatMsgList.push(msg)\r\n        })\r\n        this.socket.on('otherUserJoinInRoom',(user)=>{\r\n            this.otherUser = user\r\n        })\r\n        this.socket.on('uploadFileSliceIndex',(index,total,fileName,timestamp)=>{\r\n            let percent = document.querySelector(`#_${timestamp}`)\r\n            let list = sendFileMap.get(timestamp)||[]\r\n            list.push(index)\r\n            sendFileMap.set(timestamp,list)\r\n            let num = (list.length/total).toFixed(2)\r\n            if(list.length<total){\r\n              percent.innerHTML = `上传进度:${num}`\r\n            }else{\r\n              percent.innerHTML = `上传成功`  \r\n              sendFileMap.clear(timestamp)\r\n            }\r\n        }) //这个是发送方发送文件时显示上传到后端的功能\r\n        this.socket.on('sendImage',(arrayBuffer,index,total,timestamp,type,fileName,size)=>{\r\n            let list = getImageMap.get(timestamp)||[]\r\n            list.push({arrayBuffer,index})\r\n            getImageMap.set(timestamp,list)\r\n            if(list.length===total){\r\n                let img = document.querySelector(`#_${timestamp}`)\r\n                list.sort((a,b)=>{a.index-b.index})\r\n                let result = new ArrayBuffer(size)\r\n                let buffer = new Uint8Array(result)\r\n                let offset = 0\r\n                for(let i=0;i<list.length;i++){\r\n                    let bufferView = new Uint8Array(list[i].arrayBuffer)\r\n                    buffer.set(bufferView, offset)\r\n                    offset += list[i].arrayBuffer.byteLength\r\n                }\r\n                let blob = new Blob([result],{type})\r\n                let read = new FileReader()\r\n                read.readAsDataURL(blob)\r\n                read.onload=(e)=>{\r\n                    let url = e.target.result\r\n                    img.src = url\r\n                    getImageMap.delete(timestamp)\r\n                }\r\n            }\r\n        }) //这个是接收方接收图片时显示的功能\r\n        this.socket.on('sendFile',(arrayBuffer,index,total,timestamp,type,fileName,size)=>{\r\n            let percent = document.querySelector(`#_${timestamp}`)\r\n            let list = getFileMap.get(timestamp)||[]\r\n            list.push({arrayBuffer,index})\r\n            getFileMap.set(timestamp,list)\r\n            let num = (list.length/total).toFixed(2)\r\n            if(list.length<total){\r\n              percent.innerHTML = `上传进度:${num}`\r\n            }else{\r\n              let a = document.createElement('a')\r\n              a.download = true\r\n              list.sort((a,b)=>{a.index-b.index})\r\n              let result = new ArrayBuffer(size)\r\n              let buffer = new Uint8Array(result)\r\n              let offset = 0\r\n              for(let i=0;i<list.length;i++){\r\n                let bufferView = new Uint8Array(list[i].arrayBuffer)\r\n                buffer.set(bufferView, offset)\r\n                offset += list[i].arrayBuffer.byteLength\r\n              }\r\n              let blob = new Blob([result],{type})\r\n              let read = new FileReader()\r\n              read.readAsDataURL(blob)\r\n              read.onload=(e)=>{\r\n                let url = e.target.result\r\n                a.href = url\r\n                let user = document.querySelector(`#msg${timestamp}`)\r\n                user.addEventListener('click',()=>{\r\n                    a.click()\r\n                })\r\n              }\r\n              percent.innerHTML = `点击下载`  \r\n              getFileMap.clear(timestamp)\r\n            }\r\n        })//这个是接收方接收文件时显示的功能\r\n        this.socket.on('sendImageStart',(timestamp,total,size,msg)=>{\r\n            this.chatMsgList.push(msg)\r\n        })\r\n        this.socket.on('sendFileStart',(timestamp,total,size,msg)=>{\r\n            this.chatMsgList.push(msg)\r\n        })\r\n        // this.socket.emit('userjoinRoom',this.room) //测试用后面要删，没有登录界面所以得加入房间\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#emojiBox{\r\n    position: absolute;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: flex-start;\r\n    width: 200px;\r\n    height: 200px;\r\n    background-color: white;\r\n    top: -200px;\r\n    left: 80px;\r\n    border-radius: 8px;\r\n    border: 1px solid #E5E9EF;\r\n    box-shadow: 0 11px 12px 0 rgba(106, 115, 133, 0.3);\r\n}\r\np{\r\n    margin: 0px;\r\n}\r\n#leftMsg{\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n#rightMsg{\r\n    display: inline-block;\r\n    width: 100%;\r\n}\r\n#rightUserMsg{\r\n    margin-top: 20px;\r\n    background-color:#95ec69;\r\n    border-radius: 4px;\r\n    padding: 6px;\r\n}\r\n#rightUserFile{\r\n    margin-top: 20px;\r\n    background-color:white;\r\n    border-radius: 8px;\r\n    padding: 16px;\r\n}\r\n#rightUserFile:hover{\r\n    background-color: #ebebeb;\r\n}\r\n#leftUserMsg{\r\n    background-color: white;\r\n    border-radius: 4px;\r\n    padding: 6px;\r\n}\r\n#leftUserFile{\r\n    background-color: white;\r\n    border-radius: 8px;\r\n    padding: 16px;\r\n}\r\n#leftUserFile:hover{\r\n    background-color: #ebebeb;\r\n}\r\n#leftMsgContent{\r\n    font-size: 16px;\r\n    font-family: Arial;\r\n    float: left;\r\n    left: 50px;\r\n}\r\n#rightMsgContent{\r\n    font-size: 16px;\r\n    font-family: Arial;\r\n    float: right;\r\n}\r\n#leftAvatar{\r\n    float: left;\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n#rightAvatar{\r\n    float: right;\r\n    width: 50px;\r\n    height: 50px;\r\n}\r\n.roomAndUser{\r\n   justify-content: center; \r\n   align-items: center;\r\n}\r\n.iconBox{\r\n   justify-content: center; \r\n   align-items: center;\r\n   width: 100%;\r\n   height: 100%;\r\n}\r\nsvg{\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 40px;\r\n    height: 40px;\r\n}\r\nul,li{\r\n  margin: 0px;\r\n  list-style: none;\r\n}\r\nul{\r\n    position: relative;\r\n    display: flex;\r\n    height: 100%;\r\n}\r\n.chatMsgDiv{\r\n\r\n}\r\n#sendMsg{\r\n    position: absolute;\r\n    top: 70%;\r\n    left: 85%;\r\n}\r\n#sendButton{\r\n    height: 30%;\r\n}\r\n#sendTextarea{\r\n    font-size: 16px;\r\n    width: 98%;\r\n    height: 65%;\r\n    resize: none;\r\n    outline: none;\r\n    margin: 0px;\r\n    overflow: hidden;\r\n    padding-top: 5px;\r\n    padding-left: 5px;\r\n}\r\n#roomAndUser{\r\n    display: flex;\r\n    background-color: #acd1f5;\r\n    justify-content:center;\r\n    align-items: center;\r\n    height: 5%;\r\n}\r\n#chatContent{\r\n    overflow: scroll;\r\n    background-color:#f5f5f5;\r\n    height: 75%;\r\n}\r\n#send{\r\n    position: relative;\r\n    box-shadow: 0 2px 4px #00000014;\r\n    background-color: white;\r\n    height: 20%;\r\n}\r\n#chat{\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./chat.vue?vue&type=template&id=016328ff&scoped=true\"\nimport script from \"./chat.vue?vue&type=script&lang=js\"\nexport * from \"./chat.vue?vue&type=script&lang=js\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&id=016328ff&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"016328ff\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"main\">\r\n        <div id=\"left\">\r\n            <div id=\"videoDiv\">\r\n                <canvas id=\"canvas\"></canvas>\r\n                <canvas id=\"screenShotCanvas\" style=\"display: none;\"></canvas>\r\n                <video id=\"remote\"></video>\r\n                <video id=\"local\"></video>  \r\n                <video id=\"recordVideo\" autoplay=\"true\" controls=\"true\" v-show=\"showRecordVideo\"></video>         \r\n            </div>\r\n            <div id=\"videoButton\">\r\n                <el-button type=\"primary\" class=\"button\" @click=\"getStream(0,'camera')\" :disabled=\"disabledList[0]\">获取摄像头媒体流</el-button>\r\n                <el-button type=\"primary\" class=\"button\" @click=\"getStream(1,'desktop')\" :disabled=\"disabledList[1]\">获取桌面媒体流</el-button>\r\n                <el-button type=\"primary\" class=\"button\" @click=\"screenShot\" title=\"获取远端屏幕截图\">获取屏幕截图</el-button>\r\n                <el-button type=\"primary\" class=\"button\" @click=\"recordVideo\" title=\"录制远端视频\">录制视频</el-button>\r\n                <el-button type=\"primary\" class=\"button\" @click=\"stopRecordVideo\" title=\"停止录制远端视频\">停止录制</el-button>\r\n                <el-button type=\"primary\" class=\"button\" @click=\"downloadRecordVideo\" title=\"下载录制视频\">下载录制视频</el-button>\r\n            </div>\r\n        </div>\r\n        <div id=\"right\">\r\n            <chat></chat>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client'\r\nimport chat from './chat.vue'\r\nexport default{\r\n    components:{\r\n        chat\r\n    },\r\n    data(){\r\n        return{\r\n            record:'',\r\n            recordLive:false, //判断是否在录制\r\n            user:'',\r\n            room:'',\r\n            socket:'',\r\n            stream:'',//本地媒体流\r\n            remoteStream:'',//远端媒体流\r\n            user:'', \r\n            userType:'',//如果是send则是发送方，如果是get则是接收方\r\n            pc:'', //pc为rtcpeerConnection的实例对象\r\n            candidate:'',\r\n            disabledList:[false,false,false,false],\r\n            live:false, //判断是否在通信,\r\n            recordBlobList:[], //储存录制的视频流\r\n            recordVideoMove:false,\r\n            recordVideoMouseX:'',\r\n            recordVideoMouseY:'',\r\n            recordVideoLeft:'',\r\n            recordVideoTop:'',\r\n            sourceBuffer:'',\r\n            showRecordVideo:false,\r\n        }\r\n    },\r\n    methods:{\r\n        //移动相关方法\r\n        async getFirstPostion(e){\r\n            e.preventDefault()\r\n            if(this.recordVideoMove) return\r\n            this.recordVideoMove = true\r\n            let left =await e.target.getBoundingClientRect().left\r\n            let top = await e.target.getBoundingClientRect().top\r\n            this.recordVideoLeft = left\r\n            this.recordVideoTop = top \r\n            this.recordVideoMouseX = e.clientX\r\n            this.recordVideoMouseY = e.clientY\r\n        },\r\n        getMovePostion(e){\r\n            e.preventDefault()\r\n            if(!this.recordVideoMove) return\r\n            e.target.style.left = this.recordVideoLeft + e.clientX - this.recordVideoMouseX +'px'    \r\n            e.target.style.top = this.recordVideoTop + e.clientY - this.recordVideoMouseY +'px'    \r\n        },\r\n        getLastPostion(e){\r\n            e.preventDefault()\r\n            if(!this.recordVideoMove) return\r\n            this.recordVideoMove = false\r\n        },\r\n        async getStream(index,type){\r\n            if(type==='camera'){\r\n                this.stream = await navigator.mediaDevices.getUserMedia({video:true,audio:true})\r\n            }else if(type==='desktop'){\r\n                this.stream = await navigator.mediaDevices.getDisplayMedia({video:true,audio:true})\r\n            }\r\n            let local = document.querySelector('#local')\r\n            local.srcObject = this.stream\r\n            local.oncanplay=()=>{local.play()} \r\n            if(!this.pc){\r\n              this.pc = new RTCPeerConnection() \r\n              await this.pc.addStream(this.stream) \r\n            }else{\r\n                const senders = this.pc.getSenders()\r\n                senders.forEach(sender => {\r\n                if (sender.track.kind === 'video') {\r\n                    sender.replaceTrack(this.stream.getVideoTracks()[0])\r\n                } else if (sender.track.kind === 'audio') {\r\n                    sender.replaceTrack(this.stream.getAudioTracks()[0])\r\n                }\r\n                })\r\n            }\r\n            //如果是第一次连接的话,向服务器发送房间号，用以确认该客户端是发送方还是接收方。\r\n            if(!this.userType){\r\n                this.socket.emit('getOfferRoom',this.room)\r\n                this.socket.on('getUserType',async(userType,offer)=>{\r\n                    /*\r\n                        如果是发送方需要创建offer并发送给服务器并将offer设置到本地描述，同时监听服务器接收answer。\r\n                        如果服务器返回answer需要将answer设置远端描述。\r\n                        如果是接收方则将offer设置到远端描述并创建answer同时将answer设置成本地描述然后向服务器发送answer。\r\n                    */\r\n                    this.userType = userType\r\n                    if(userType==='send'){\r\n                        this.localConnection()\r\n                    }else if(userType==='get'){\r\n                        this.remoteConnection(offer)\r\n                    }                \r\n                })\r\n            }\r\n            this.pc.onicecandidate=(e)=>{\r\n                if(e.candidate){\r\n                    this.socket.emit('candidate',e.candidate,this.room,this.userType) \r\n                }//如果用户是接收方的话就在发送的candidate的时候添加发送方的candidate。 \r\n            }//在设置完媒体流以及本地描述后就会不断触发这个事件,此时的e.candidate有可能是null所以需加一层判断\r\n            this.pc.ontrack=async(e)=>{\r\n                let remote = document.querySelector('#remote')\r\n                remote.srcObject =await e.streams[0]\r\n                remote.oncanplay=()=>{remote.play()}\r\n                this.live = true\r\n            }//当远程描述设置完成就会触发ontrack\r\n            this.disabledList = this.disabledList.map((a,i)=>i==index?true:false)\r\n        },\r\n        async mediaConsultation(){\r\n\r\n        },\r\n        async localConnection(){\r\n            this.userType = 'send'\r\n            let offer = await this.pc.createOffer()\r\n            await this.pc.setLocalDescription(offer)\r\n            this.socket.emit('sendOffer',offer,this.room)\r\n            this.socket.on('getAnswer',async(answer)=>{\r\n                await this.pc.setRemoteDescription(answer)\r\n                this.pc.addIceCandidate(this.candidate)\r\n            })\r\n            return offer\r\n        },\r\n        async remoteConnection(offer){\r\n            this.userType = 'get'\r\n            await this.pc.setRemoteDescription(offer)\r\n            let answer = await this.pc.createAnswer()\r\n            await this.pc.setLocalDescription(answer)\r\n            this.socket.emit('sendAnswer',answer,this.room)\r\n            this.pc.addIceCandidate(this.candidate)\r\n        },\r\n        screenShot(){\r\n            if(!this.live) return //如果没有通信说明没有远端视频也就不用截图。\r\n            let screenShotCanvas = document.querySelector('#screenShotCanvas')\r\n            let screenShotCtx = screenShotCanvas.getContext('2d')\r\n            let remote = document.querySelector('#remote')\r\n            screenShotCanvas.width = remote.videoWidth\r\n            screenShotCanvas.height = remote.videoHeight\r\n            screenShotCtx.drawImage(remote,0,0,screenShotCanvas.width,screenShotCanvas.height)\r\n            screenShotCanvas.toBlob((blob)=>{\r\n                navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]).then(()=>{}).catch((err)=>console.log(err))\r\n            })      \r\n        },//获取屏幕截图并复制到剪切板板上,\r\n        async recordVideo(){\r\n            if(this.recordLive) return //如果在录制中就返回。\r\n            this.showRecordVideo =  true \r\n            const options = {\r\n                mimeType: 'video/webm;codecs=vp8',\r\n                audioBitsPerSecond: 128000,\r\n                videoBitsPerSecond: 2500000\r\n            }\r\n            let remote = document.querySelector('#remote')\r\n            this.remoteStream =await remote.captureStream()\r\n            let video = document.querySelector('#recordVideo')\r\n            let record = new MediaRecorder(this.remoteStream,options)\r\n            this.record = record\r\n            this.recordLive = true\r\n            record.start(1000)\r\n            let mediaSource = new MediaSource()\r\n            let sourceBuffer\r\n            video.src = URL.createObjectURL(mediaSource)\r\n            mediaSource.addEventListener('sourceopen',()=>{\r\n                const mimeCodec = 'video/webm;codecs=\"vp8\",opus'\r\n                sourceBuffer = mediaSource.addSourceBuffer(mimeCodec)\r\n            })\r\n            record.ondataavailable=(e)=>{\r\n                const blob = e.data\r\n                this.recordBlobList.push(e.data)\r\n                    if (blob.size > 0) {\r\n                        const read = new FileReader()\r\n                        read.readAsArrayBuffer(blob)\r\n                        read.onloadend = (e) => {\r\n                            sourceBuffer.appendBuffer(e.target.result)\r\n                        }\r\n                    }\r\n                }\r\n        },\r\n        stopRecordVideo(){\r\n            if(!this.record) return\r\n            this.record.stop()\r\n            this.showRecordVideo = false\r\n        },\r\n        downloadRecordVideo(){\r\n            if(!this.recordBlobList) return\r\n            let a = document.createElement('a')\r\n            let blob = new Blob(this.recordBlobList,{ type: 'video/mp4' })\r\n            let read = new FileReader()\r\n            a.download = true\r\n            read.readAsDataURL(blob)\r\n            read.onload=(e)=>{\r\n                let url = e.target.result\r\n                a.href = url\r\n                a.click()\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.socket = io('localhost:3000')\r\n    },\r\n    mounted(){\r\n        if(sessionStorage.getItem('user')&&sessionStorage.getItem('room')){\r\n            this.user = sessionStorage.getItem('user')\r\n            this.room = sessionStorage.getItem('room')\r\n        }\r\n        this.socket.on('getCandidate',(candidate,userType)=>{\r\n            this.candidate = candidate\r\n        })\r\n\r\n        // this.socket.emit('userjoinRoom',this.room) //测试用后面要删，没有登录界面所以得加入房间\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.button{\r\n    margin: 20px;\r\n}\r\n#videoButton{\r\n    position: absolute;\r\n    display: flex;\r\n    top: 90%;\r\n    height: 10%;\r\n    width: 100%;\r\n}\r\n#videoDiv{\r\n    position: relative;\r\n    background-color: black;\r\n    width: 100%;\r\n    height: 90%;\r\n}\r\n#canvas{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 90%;\r\n}\r\n#remote{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 90%;\r\n}\r\n#local{\r\n    position: absolute;\r\n    top: 70%;\r\n    left: 80%;\r\n    width: 20%;\r\n    height: 20%;\r\n}\r\n#recordVideo{\r\n    position: absolute;\r\n    top: 70%;\r\n    width: 30%;\r\n    height: 30%;\r\n}\r\n#main{\r\n    position: absolute;\r\n    width: 80%;\r\n    height: 80%;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(-50%);\r\n}\r\n#left{\r\n    position: absolute;\r\n    width: 70%;\r\n    height: 100%;\r\n    background-color: antiquewhite;\r\n}\r\n#right{\r\n    position: absolute;\r\n    left: 70%;\r\n    width: 30%;\r\n    height: 100%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./room.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./room.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./room.vue?vue&type=template&id=33a52222&scoped=true\"\nimport script from \"./room.vue?vue&type=script&lang=js\"\nexport * from \"./room.vue?vue&type=script&lang=js\"\nimport style0 from \"./room.vue?vue&type=style&index=0&id=33a52222&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33a52222\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{attrs:{\"id\":\"top\"}},[_c('ul',{staticClass:\"roomName\"},[_vm._v(\" 房间号: \"),_vm._l((_vm.roomList),function(room){return _c('li',{key:room},[_vm._v(_vm._s(room))])})],2)]),_c('div',{attrs:{\"id\":\"main\"}},[_c('div',{attrs:{\"id\":\"form\"}},[_c('div',[_c('span',{staticClass:\"form\"},[_vm._v(\"用户:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userName),expression:\"userName\"}],staticClass:\"form\",attrs:{\"type\":\"text\",\"id\":\"user\"},domProps:{\"value\":(_vm.userName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userName=$event.target.value}}})]),_c('div',[_c('span',{staticClass:\"form\"},[_vm._v(\"房间:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.roomNumber),expression:\"roomNumber\"}],staticClass:\"form\",attrs:{\"type\":\"text\",\"id\":\"room\"},domProps:{\"value\":(_vm.roomNumber)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.roomNumber=$event.target.value},_vm.limitRoom]}})])])]),_c('div',{attrs:{\"id\":\"buttom\"}},[_c('button',{on:{\"click\":_vm.addRoom}},[_vm._v(\"加入房间\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"login\">\r\n        <div id=\"top\">\r\n            <ul class=\"roomName\">\r\n                房间号:\r\n                <li v-for=\"room in roomList\" :key=\"room\">{{ room }}</li>\r\n            </ul>\r\n        </div>\r\n        <div id=\"main\">\r\n            <div id=\"form\">\r\n                <div>\r\n                    <span class=\"form\">用户:</span><input v-model=\"userName\" class=\"form\" type=\"text\" id=\"user\">   \r\n                </div>\r\n                <div>\r\n                    <span class=\"form\">房间:</span><input v-model=\"roomNumber\" @input=\"limitRoom\" class=\"form\" type=\"text\" id=\"room\">       \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id=\"buttom\">\r\n            <button @click=\"addRoom\">加入房间</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport io from 'socket.io-client'\r\n  export default {\r\n    name: 'login',\r\n    data(){\r\n        return {\r\n            userName:'',\r\n            roomNumber:'',\r\n            socket:'',\r\n            roomList:[],\r\n        }\r\n    },\r\n    methods:{\r\n        limitRoom(){\r\n            let arr = this.roomNumber.match(/[0-9]/g)\r\n            arr = arr?arr.splice(0,3):arr\r\n            let match = arr?arr.join(''):arr\r\n            this.roomNumber = match\r\n        }, //限制房间号在000到999\r\n        addRoom(){\r\n            // this.$router.push({ name: 'room' }) //测试用例，后面删除\r\n            if(!this.userName||!this.roomNumber) return //如果用户名或者房间号为空就不往下运行\r\n            let user ={\r\n                userName:this.userName,\r\n                roomName:this.roomNumber\r\n            } //获取用户的名字以及房间号\r\n            this.socket.emit('joinRoom',user) //告知服务器是哪个用户加入了那个房间\r\n            this.$router.push({ name: 'room' })\r\n        }\r\n    },\r\n    created(){\r\n        this.socket = io('localhost:3000')\r\n    },\r\n    mounted(){\r\n        this.socket.on('addNewRoom',(roomName)=>{\r\n            this.roomList.push(roomName)\r\n        }) //如果有用户创建了新的房间就会在列表加入新的房间\r\n        this.socket.on('getRoomList',(roomList)=>{\r\n            this.roomList = roomList\r\n        }) //服务器传来当前的房间列表\r\n        this.socket.on('fullRoom',(msg)=>{\r\n            alert(msg)\r\n        }) //如果某个房间满了就会触发这个\r\n        this.socket.on('joinInRoom',(roomName,roomList)=>{\r\n            sessionStorage.setItem('room',this.roomNumber)\r\n            sessionStorage.setItem('user',this.userName)\r\n        })//成功加入房间，路由，启动。\r\n        // if(sessionStorage.getItem('user')&&sessionStorage.getItem('room')){\r\n        //     this.$router.push({name:room})\r\n        // }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\nul,li{\r\n  margin: 0px;\r\n  list-style: none;\r\n}\r\nbutton{\r\n    position: absolute;\r\n    background-color: #1352a3;\r\n    width: 120px;\r\n    height: 50px;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(-50%);\r\n}\r\n.roomName{\r\n    display: flex;\r\n}\r\n.form{\r\n    font-size: 32px;\r\n    margin: 20px;\r\n}\r\n\r\nul{\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\nli{\r\n    margin-right: 10px;\r\n}\r\n#form{\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(-50%);\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n#login{\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translateY(-50%) translateX(-50%);\r\n    width: 60%;\r\n    height: 50%;\r\n    background-image: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);\r\n}\r\n#top{\r\n    position: relative;\r\n    height: 10%;\r\n}\r\n#main{\r\n    position: relative;\r\n    height: 75%;\r\n}\r\n#buttom{\r\n    position: relative;\r\n    height: 15%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=d6612200&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=d6612200&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6612200\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <!-- <login></login> -->\n    <!-- <room></room> -->\n    <!-- <router-link to=\"/\"></router-link> -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport login from './components/login.vue'\nimport room from './components/room.vue'\nexport default{\n  data(){\n    return{\n      page:'/'\n    }\n  },\n  components:{\n    login,\n    room\n  }\n}\n</script>\n\n<style>\n\n\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=17e1cbb3\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport login from '../components/login.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'login',\n    component: login\n  },\n  {\n    path:'/room',\n    name: 'room',\n    component: ()=>import('../components/room.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n// import store from './store'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nVue.use(ElementUI);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  // store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebrtc\"] = self[\"webpackChunkwebrtc\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5903); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","directives","name","rawName","value","showRecordVideo","expression","staticClass","disabledList","on","$event","getStream","_v","screenShot","recordVideo","stopRecordVideo","downloadRecordVideo","staticRenderFns","_s","room","user","otherUser","fileEnter","fileLeave","_l","chatMsgList","msgObj","msgType","avatarURL","msg","_e","file","size","timestamp","img","showEmoji","clickEmoji","emojiList","emoji","domProps","createAvatar","sendImage","sendFile","chatMsg","sendMsgEnter","target","composing","sendMsg","sendFileMap","Map","getFileMap","getImageMap","Message","constructor","data","socket","methods","e","preventDefault","style","backgroundColor","dataTransfer","files","fileSlice","getFile","read","FileReader","readAsDataURL","onload","url","result","Image","src","canvas","document","querySelector","ctx","getContext","width","height","drawImage","toDataURL","localStorage","setItem","clearRect","innerHTML","type","accept","imageSlice","Date","now","fileName","push","readURL","readArrayBuffer","readAsArrayBuffer","arrayBuffer","sliceSize","total","Math","ceil","fileIndex","index","emit","arrayBufferUpload","slice","toFixed","length","fileAllSize","byteLength","fileSize","makeText","text","font","textList","split","list","textWidth","i","j","measureText","keyCode","option","filelist","showOpenFilePicker","created","io","mounted","sessionStorage","getItem","percent","get","set","num","clear","sort","a","b","ArrayBuffer","buffer","Uint8Array","offset","bufferView","blob","Blob","delete","createElement","download","href","addEventListener","click","component","components","chat","record","recordLive","stream","remoteStream","userType","pc","candidate","live","recordBlobList","recordVideoMove","recordVideoMouseX","recordVideoMouseY","recordVideoLeft","recordVideoTop","sourceBuffer","getFirstPostion","left","getBoundingClientRect","top","clientX","clientY","getMovePostion","getLastPostion","navigator","mediaDevices","getUserMedia","video","audio","getDisplayMedia","local","srcObject","oncanplay","play","senders","getSenders","forEach","sender","track","kind","replaceTrack","getVideoTracks","getAudioTracks","RTCPeerConnection","addStream","offer","localConnection","remoteConnection","onicecandidate","ontrack","remote","streams","map","mediaConsultation","createOffer","setLocalDescription","setRemoteDescription","answer","addIceCandidate","createAnswer","screenShotCanvas","screenShotCtx","videoWidth","videoHeight","toBlob","clipboard","write","ClipboardItem","then","catch","err","console","log","options","mimeType","audioBitsPerSecond","videoBitsPerSecond","captureStream","MediaRecorder","start","mediaSource","MediaSource","URL","createObjectURL","mimeCodec","addSourceBuffer","ondataavailable","onloadend","appendBuffer","stop","roomList","key","userName","roomNumber","limitRoom","addRoom","arr","match","splice","join","roomName","$router","alert","page","login","Vue","use","VueRouter","routes","path","router","mode","base","process","ElementUI","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","id","loaded","__webpack_modules__","call","m","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}